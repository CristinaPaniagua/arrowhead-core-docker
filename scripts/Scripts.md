# Script Instructions

## start.sh
Will start the arrowhead docker containers and all other containers specified in `docker-compose.yaml`. During startup all defined certificates will be generated if they are not already generated.
### Use
```
bash start.sh
```
or 
```
bash start.sh -r 
```
if you want to rebuild the certificates.

## stop.sh

Stops all arrowhead docker containers and all other containers specified in `docker-compose.yaml`.

### Use

```
bash stop.sh
```

## build.sh

Builds all cretificates defined in the certificate generation scripts. If no custom certificates are added, then only the *master*, *cloud*, *sysop*, *truststore* certificates and the core arrowhead certificates for *serviceregistry*, *authorization* and *orchestrator* will be generated. 

### Prerequisites

* JRE/JDK 11

### Use

```
bash build.sh
```
This will not generate certificates if the `certificates` directory in the root directory is non-empty. If you want to force build the certificates then run,
```
bash build.sh -f
```

## build_custom_systems.sh

This script is for generating the certificates for custom systems, but as defualt there are no certificates being generated by this script. The purpose is that you add the certificates that you want to auto generate in this script.

To add a custom certificate in the `build_custom_systems.sh` script enter this line,

```
bash generate_system_certificate.sh -n <SYSTEM_NAME> -d <SYSTEM_CERT_DIR>
```
Replace `<SYSTEM_NAME>` with the name of your custom system, this field is **required**. Replace `<SYSTEM_CERT_DIR>` with the location for where you want your certificate to be generated to, relative to the root folder. This field is **optinal**, if this field is left out the certificate is saved in `<SYSTEM_NAME>/certificates`
You can also add a parameter for *subject alternative name* parameters `-s <SUBJECT_ALTERNATIVE_NAME>`, this can be used to add valid ip address or dns's to the certificate.

### Manual use

The script runs automaticaly when the system start, but you can also run the script manually

#### Prerequisites

* JRE/JDK 11

#### Use

```
bash build_custom_systems.sh
```


## certificate_generation_scripts

The scripts in `certificate-generation-scripts` are mostly used behind the scenes. But a useful script is the `generate_system_certificate.sh` script. You can use this script to manually generate a certificate for a custom service.
